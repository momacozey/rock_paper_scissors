<!DOCTYPE html>
<head>
    
</head>
<html>
<body>
    <button onclick="game()">wanna play?</button>
   

    <p id="demo"></p>
    <p id="pc"></p>
    <p id="end"></p>
<script>
   

   function game(){

    function playRound(playerSelection, computerSelection){
    if (playerSelection == "rock" && computerSelection == "scissors" || playerSelection == "paper" && computerSelection == "rock" || playerSelection == "scissors" && computerSelection == "paper"){
        document.getElementById("demo").innerHTML = "You won!!!";
        console.log(computerSelection);
        return "win";
    }
     else if (playerSelection == computerSelection){
        document.getElementById("demo").innerHTML = "It's a draw!";
        console.log(computerSelection);
        return "draw";
    } else if (playerSelection != "scissors" && playerSelection != "rock" && playerSelection != "paper"){
        console.log("I dont think you can use that here...");
        document.getElementById("demo").innerHTML = "I dont think you can use that here...";
        return "error";
    } else {
        document.getElementById("demo").innerHTML = "loss :(";
        console.log(computerSelection);
        return "loss";
    }
}

    function computerPlay(){
        let computerChoice = Math.floor(Math.random() * 3);
            if (computerChoice == 1){
                computerChoice = "rock";
           }
            else if (computerChoice == 2) {
                computerChoice = "paper";              
            } else if (computerChoice == 0){
                computerChoice = "scissors";               
            }
            return computerChoice;
    }

    let win = 0 
    let loss = 0
    let draw = 0

    for (let round =0; round < 5; round++){
        let result = playRound(prompt("rock, paper, or scissors?"),computerPlay());
        if (result == "win"){
            ++win;
        } else if (result == "draw"){
            ++draw;
        } else if (result == "loss"){
            ++loss
        } else {
            alert("YOU JUST THREW A ROUND AWAY. YOU CANT USE THAT HERE");
        }
        document.getElementById("pc").innerHTML = result + " " + win +  " " + draw + " " + loss
    }
   
   if (win > loss){
       document.getElementById("end").innerHTML = "YOU HAVE BEAT THE MACHINE";
       return "you won";
   } else if (loss > win){
       document.getElementById("end").innerHTML = "You seem to have lost....";
       return "you lose";
   } else if (loss == 0 && win == 0 && draw == 0){
       document.getElementById("end").innerHTML = "well you broke it....";
       return "you broke it...."
   }else {
       document.getElementById("end").innerHTML = "It's a tie game!";
       return "tie";
   }
   }
</script>
</body>
</html>